{"version":3,"sources":["utils/localStorage.js","redux/reducer.js","redux/action-types.js","redux/store.js","api/ajax.js","api/index.js","redux/actions.js","pages/login/index.jsx","config/menuConfig.js","components/sider/index.jsx","utils/getDate.js","components/header/index.jsx","components/footer/index.jsx","pages/Home/index.jsx","pages/Category/AddModal.jsx","pages/Category/UpDateModal.jsx","pages/Category/index.jsx","pages/Product/Home/SearchBar.jsx","pages/Product/Home/AddButton.jsx","pages/Product/Home/ProductFrom.jsx","config/productConfig.js","pages/Product/Home/index.jsx","pages/Product/AddUpdate/title.jsx","pages/Product/AddUpdate/picturesWall.jsx","pages/Product/AddUpdate/richTextBox.js","pages/Product/AddUpdate/index.jsx","pages/Product/Detail/DetailTitle.jsx","pages/Product/Detail/index.jsx","pages/Product/index.jsx","pages/User/oButton.jsx","pages/User/oTable.jsx","pages/User/addAndUpdateModel.jsx","pages/User/index.jsx","pages/Role/Buttons.jsx","pages/Role/oTable.jsx","pages/Role/addModel.jsx","pages/Role/updateModel.jsx","pages/Role/index.jsx","pages/Chart/bar.jsx","pages/Chart/line.jsx","pages/Chart/pie.jsx","pages/admin/index.jsx","App.js","index.js","pages/login/img/logo.jpg","assets/img/logo.jpg"],"names":["localGet","store","get","initUser","combineReducers","headTitle","state","action","type","data","user","createStore","reducer","composeWithDevTools","applyMiddleware","thunk","ajax","url","param","method","Promise","resover","reject","axios","params","post","then","resp","catch","error","message","reqLogin","username","password","reqUserAdd","obj","reqCategoryList","parentId","reqCategoryAdd","reqCategoryUpdate","categoryId","categoryName","reqCategoryInfo","reqProductList","reqProduct","reqProductAdd","reqProductUpdate","reqProductUpdateStatus","reqImgDelete","name","reqRoleAdd","roleName","reqRoleUpdate","reqWeather","city","resolve","jsonp","err","status","results","weather_data","dayPictureUrl","weather","logout","remove","layout","labelCol","span","wrapperCol","tailLayout","offset","Login","onFinish","values","props","login","onFinishFailed","errorInfo","console","log","this","_id","to","className","src","logo","alt","initialValues","remember","Item","label","rules","required","initialValue","max","min","pattern","style","height","marginBottom","Password","htmlType","React","Component","connect","dispatch","a","result","set","key","icon","HomeOutlined","title","isPublic","AppstoreOutlined","children","BarsOutlined","BarcodeOutlined","UserOutlined","SafetyCertificateOutlined","AreaChartOutlined","BarChartOutlined","PieChartOutlined","SubMenu","Menu","Sider","handleClick","e","item","menus","role","indexOf","menuList","map","hasAuth","randerMenu","path","location","pathname","setHeadTitle","onClick","selectPath","openKeyArr","subItem","includes","push","cItem","find","width","mode","selectedKeys","defaultOpenKeys","withRouter","getDate","time","date","Date","getFullYear","getMonth","getHours","getMinutes","getSeconds","toString","padStart","confirm","Modal","Header","curTime","getTitle","configArr","forEach","onOk","weatherInfo","setState","timer","setInterval","now","clearInterval","Home","id","Option","Select","AddModal","visible","onCreate","onCancel","reqId","Form","useForm","form","useEffect","setFieldsValue","getContainer","okText","cancelText","validateFields","resetFields","info","value","placeholder","UpDateModal","defaultText","Category","subData","isLoading","modalStatus","showAdd","addModal","getDateList","showUpdate","clickObj","updateModal","hiddenModal","changeCategory","target","showFirstList","columns","dataIndex","render","size","upDataReqIdAndTitle","ArrowRightOutlined","createColumns","extra","PlusOutlined","dataSource","bordered","loading","rowKey","pagination","pageSizeOptions","defaultPageSize","showSizeChanger","showQuickJumper","hideOnSinglePage","SearchBar","productSelect","productKey","setbarKey","setbarSearch","setPage","margin","text","history","pageNum","match","list","product","price","newStatus","updateStatus","productId","refresh","current","pageSize","total","onChange","page","pageChange","useState","Plist","setPlist","setTotal","setPageNum","setKey","select","setSelect","getProductSelect","searchType","getProduct","goBack","ArrowLeftOutlined","uploadButton","marginTop","PicturesWall","forwardRef","ref","imgList","fileList","setFileList","previewImage","setPreviewImage","previewVisible","setPreviewVisible","file","preview","getBase64","originFileObj","response","success","length","uid","getImgName","index","useImperativeHandle","accept","listType","onPreview","footer","reader","FileReader","readAsDataURL","onload","onerror","RichTextBox","html","EditorState","createEmpty","editorState","setEditorState","getRichBox","draftToHtml","convertToRaw","getCurrentContent","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","createWithContent","wrapperClassName","editorClassName","editorStyle","border","onEditorStateChange","TextArea","Input","AddUpdate","pictureRef","useRef","richTextRef","options","setOptions","setChoose","imgs","detail","classify","pCategoryId","selectedOptions","targetOption","isLeaf","defaultC","filter","xs","sm","scrollToFirstError","rows","getFieldValue","validator","rule","prefix","suffix","loadData","changeOnSelect","padding","fontSize","List","Detail","cateName","setCateName","pCateName","setPCateName","all","desc","dangerouslySetInnerHTML","__html","Product","exact","component","Buttons","setShowModel","OTable","users","roles","setSelectUser","getUsersData","role_id","userId","showModel","selectUser","formUser","userData","User","setUsers","setRoles","targetRole","setShowAdd","setShowSet","marginRight","disabled","setRole","rowSelection","selectedRowKeys","onSelect","record","onRow","event","AddModel","setData","formAdd","newData","addRole","showSet","userName","expandedKeys","setExpandedKeys","checkedKeys","setCheckedKeys","setSelectedKeys","autoExpandParent","setAutoExpandParent","setHandleOk","auth_time","getTime","auth_name","checkable","onExpand","onCheck","treeData","Role","setTargetRole","ChartBar","sales","stock","updata","getOption","color","legend","tooltip","trigger","axisPointer","grid","left","right","bottom","containLabel","xAxis","axisTick","alignWithLabel","yAxis","series","barWidth","option","notMerge","lazyUpdate","theme","ChartLine","ChartPie","backgroundColor","top","textStyle","formatter","visualMap","show","inRange","colorLightness","radius","center","sort","b","roseType","labelLine","lineStyle","smooth","length2","itemStyle","shadowBlur","shadowColor","animationType","animationEasing","animationDelay","idx","Math","random","Footer","Layout","Content","Admin","backgroundImage","background","overflow","App","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d6c3cfd5.chunk.js","sourcesContent":["import store from 'store'\r\nconst USER = 'user-key'\r\nexport function localSet(user){\r\n\tstore.set(USER, user)\r\n}\r\nexport function localGet(){\r\n\treturn store.get(USER) || {}\r\n}\r\nexport function localRemove(){\r\n\tstore.remove(USER)\r\n}","import { combineReducers } from 'redux'\r\nimport {HEAD_TITLE,USER,RESET_USER} from './action-types.js'\r\nimport { localGet } from '../utils/localStorage'\r\n\r\nconst initHeadTitle = '首页'\r\nfunction headTitle(state=initHeadTitle,action){\r\n\tswitch(action.type){\r\n\t\tcase HEAD_TITLE:\r\n\t\t\treturn action.data;\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nconst initUser = localGet()\r\nfunction user(state=initUser,action){\r\n\tswitch(action.type){\r\n\t\tcase USER:\r\n\t\t\treturn action.data;\r\n\t\tcase RESET_USER:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\nexport default combineReducers({\r\n\theadTitle,\r\n\tuser\r\n})","export const HEAD_TITLE = 'head-title'\r\nexport const USER = 'user'\r\nexport const RESET_USER= 'reset-user'","import {createStore,applyMiddleware} from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport {composeWithDevTools} from 'redux-devtools-extension'\r\n\r\nimport reducer from './reducer.js'\r\n\r\nexport default createStore(reducer,composeWithDevTools(applyMiddleware(thunk)))","import axios from 'axios'\r\nimport {message} from 'antd'\r\n\r\nexport default function ajax(url,param={},method='GET'){\r\n\treturn new Promise((resover,reject)=>{\r\n\t\tlet promise\r\n\t\tif(method==='GET'){\r\n\t\t\tpromise = axios.get(url, {\r\n\t\t\t    params: param\r\n\t\t\t  })\r\n\t\t}else{\r\n\t\t\tpromise = axios.post(url, param)\r\n\t\t}\r\n\t\tpromise.then((resp=>{\r\n\t\t\tresover(resp.data)\r\n\t\t})).catch(error=>{\r\n\t\t\tmessage.error('错误信息:'+error.message)\r\n\t\t})\r\n\t})\r\n\t\r\n}","import ajax from './ajax'\r\nimport jsonp from 'jsonp'\r\nimport {message} from 'antd'\r\n\r\n//登录\r\nexport const reqLogin = (username,password) => ajax('/login',{username,password},'POST')\r\n//添加用户\r\nexport const reqUserAdd = (obj) => ajax('/manage/user/add',obj,'POST')\r\n//更新用户\r\nexport const reqUserUpdate = (obj) => ajax('/manage/user/update',obj,'POST')\r\n//获取所有用户列表\r\nexport const reqUserList = () => ajax('/manage/user/list')\r\n//删除用户\r\nexport const reqUserDelete = (userId) => ajax('/manage/user/delete',{userId},'POST')\r\n//获取一级或某个二级分类列表\r\nexport const reqCategoryList = (parentId) => ajax('/manage/category/list',{parentId})\n//添加分类\r\nexport const reqCategoryAdd = (obj) => ajax('/manage/category/add',obj,'POST')\n//更新品类名称\r\nexport const reqCategoryUpdate = (categoryId,categoryName) => ajax('/manage/category/update',{categoryId,categoryName},'POST')\n//根据分类ID获取分类\r\nexport const reqCategoryInfo = (categoryId) => ajax('/manage/category/info',{categoryId})\n// 获取商品分页列表\r\nexport const reqProductList = (obj) => ajax('/manage/product/list',obj)\n// 根据ID/Name搜索产品分页列表\r\nexport const reqProduct = (obj) => ajax('/manage/product/search',obj)\n//添加商品\r\nexport const reqProductAdd = (obj) => ajax('/manage/product/add',obj,'POST')\n//更新商品\r\nexport const reqProductUpdate = (obj) => ajax('/manage/product/update',obj,'POST')\n//对商品进行上架/下架处理\r\nexport const reqProductUpdateStatus = (obj) => ajax('/manage/product/updateStatus',obj,'POST')\n\n//删除图片\r\nexport const reqImgDelete = (name) => ajax('/manage/img/delete',{name},'POST')\n//添加角色\r\nexport const reqRoleAdd = (roleName) => ajax('/manage/role/add',{roleName},'POST')\n//获取角色列表\r\nexport const reqRoleList = () => ajax('/manage/role/list')\n//更新角色(给角色设置权限)\r\nexport const reqRoleUpdate = (obj) => ajax('/manage/role/update',obj,'POST')\n//获取天气信息(支持jsonp)\r\nexport const reqWeather = (city) => {\r\n\treturn new Promise((resolve,reject)=>{\r\n\t\tconst url = `http://api.map.baidu.com/telematics/v3/weather?location=${city}&output=json&ak=3p49MVra6urFRGOT9s8UBWr2`\r\n\t\tjsonp(url,{},(err,data)=>{\r\n\t\t\tif(!err && data.status === 'success'){\r\n\t\t\t\tconst {dayPictureUrl,weather} = data.results[0].weather_data[0]\r\n\t\t\t\tresolve({dayPictureUrl,weather})\r\n\t\t\t}else{\r\n\t\t\t\tmessage.error('天气获取失败')\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n}","import {message} from 'antd'\r\nimport {HEAD_TITLE,USER,RESET_USER} from './action-types.js'\r\nimport { reqLogin } from '../api'\r\nimport {localSet,localRemove} from '../utils/localStorage.js'\r\n\r\nexport const setHeadTitle = (headTitle)=>({\r\n\ttype:HEAD_TITLE,\r\n\tdata:headTitle\r\n})\r\n\r\nexport const user = (user)=>({\r\n\ttype:USER,\r\n\tdata:user\r\n})\r\n\r\nexport const login = (username,password)=>{\r\n\treturn async dispatch => {\r\n\t\tconst result = await reqLogin(username,password)\r\n\t\tif(result.status === 0){\r\n\t\t\tlocalSet(result.data)\r\n\t\t\tdispatch(user(result.data))\r\n\t\t}else{\r\n\t\t\tmessage.error('登录失败，请重试')\r\n\t\t}\r\n\t}\r\n}\r\nexport const logout = ()=>{\r\n\tlocalRemove()\r\n\treturn {\r\n\t\ttype:RESET_USER\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\n\r\nimport './index.less'\r\nimport logo from './img/logo.jpg'\r\nimport { Form, Input, Button, message} from 'antd';\r\nimport {login} from '../../redux/actions.js'\r\n\r\nimport {reqLogin} from '../../api'\r\nimport memory from '../../utils/memory'\r\nimport {localSet} from '../../utils/localStorage'\r\n\r\nconst layout = {\r\n  labelCol: { span: 6 },\r\n  wrapperCol: { span: 18 },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 8, span: 16 },\r\n};\r\nclass Login extends React.Component{\r\n\t// onFinish = async(values) =>{\r\n\t// \tconst result = await reqLogin(values.username,values.password)\r\n\t// \tif(result.status === 0){\r\n\t// \t\tmessage.success('登录成功')\r\n\t// \t\tmemory.user = result.data\r\n\t// \t\tlocalSet(result.data)\r\n\t// \t\tthis.props.history.replace('/home')\r\n\t// \t}else{\r\n\t// \t\tmessage.error(result.msg)\r\n\t// \t}\r\n\t// };\r\n\tonFinish = (values)=>{\r\n\t\tthis.props.login(values.username,values.password)\r\n\t}\r\n\tonFinishFailed=errorInfo=>{\r\n\t    console.log('Failed:', errorInfo);\r\n\t};\r\n\trender(){\r\n\t\tconst user = this.props.user\r\n\t\tif(user._id){\r\n\t\t\treturn (<Redirect to={'/home'}/>)\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className='login'>\r\n\t\t\t\t<header className='login-header'>\r\n\t\t\t\t\t<img src={logo} alt='logo'/>\r\n\t\t\t\t\t<h1>电商管理平台</h1>\r\n\t\t\t\t</header>\r\n\t\t\t\t<section className='login-content'>\r\n\t\t\t\t\t<h2>用户登录</h2>\r\n\t\t\t\t\t<Form\r\n\t\t\t\t\t  {...layout}\r\n\t\t\t\t\t  name=\"basic\"\r\n\t\t\t\t\t  initialValues={{ remember: true }}\r\n\t\t\t\t\t  onFinish={this.onFinish}\r\n\t\t\t\t\t  onFinishFailed={this.onFinishFailed}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t  <Form.Item\r\n\t\t\t\t\t\tlabel=\"用户名\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\trules={[{ required: true, message: '请填写用户名!' }]}\r\n\t\t\t\t\t\tinitialValue='admin'\r\n\t\t\t\t\t  >\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t  </Form.Item>\r\n\t\t\t\t\r\n\t\t\t\t\t  <Form.Item\r\n\t\t\t\t\t\tlabel=\"密码\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\trules={[{ required: true, message: '请填写密码!' },\r\n\t\t\t\t\t\t\t\t{ max: 12, message: '密码过长!' },\r\n\t\t\t\t\t\t\t\t{ min: 4, message: '密码过短!' },\r\n\t\t\t\t\t\t\t\t{ pattern: /^[\\w]*$/, message: '密码由字母、数字或下划线组成!' }\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tstyle={{height:'70px',marginBottom:'0px'}}\r\n\t\t\t\t\t  >\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t  </Form.Item>\r\n\t\t\t\t\t  <Form.Item {...tailLayout}>\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t  登录\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t  </Form.Item>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</section>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default connect(\r\n\tstate=>({user:state.user}),\r\n\t{login}\r\n)(Login)","import React from 'react'\r\nimport {\n  HomeOutlined,AppstoreOutlined, UserOutlined, AreaChartOutlined, SafetyCertificateOutlined,PieChartOutlined,BarChartOutlined,BarsOutlined,BarcodeOutlined,\n} from '@ant-design/icons';\r\nexport default [\r\n\t{\r\n\t\tkey:'/home',\r\n\t\ticon:<HomeOutlined/>,\r\n\t\ttitle:'首页',\r\n\t\t//就算不设置该权限也能看见\r\n\t\tisPublic:true,\r\n\t},\r\n\t{\r\n\t\tkey:'/products',\r\n\t\ticon:<AppstoreOutlined/>,\r\n\t\ttitle:'商品',\r\n\t\tchildren:[\r\n\t\t\t{\r\n\t\t\t\tkey:'/category',\r\n\t\t\t\ticon:<BarsOutlined/>,\r\n\t\t\t\ttitle:'品类管理'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkey:'/product',\r\n\t\t\t\ticon:<BarcodeOutlined/>,\r\n\t\t\t\ttitle:'商品管理'\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tkey:'/user',\r\n\t\ticon:<UserOutlined/>,\r\n\t\ttitle:'用户管理'\r\n\t},\r\n\t{\r\n\t\tkey:'/role',\r\n\t\ticon:<SafetyCertificateOutlined/>,\r\n\t\ttitle:'角色管理'\r\n\t},\r\n\t{\r\n\t\tkey:'/chart',\r\n\t\ticon:<AreaChartOutlined/>,\r\n\t\ttitle:'图形列表',\r\n\t\tchildren:[\r\n\t\t\t{\r\n\t\t\t\tkey:'/chart/bar',\r\n\t\t\t\ticon:<BarChartOutlined/>,\r\n\t\t\t\ttitle:'柱形图'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkey:'/chart/line',\r\n\t\t\t\ticon:<AreaChartOutlined/>,\r\n\t\t\t\ttitle:'折线图'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkey:'/chart/pie',\r\n\t\t\t\ticon:<PieChartOutlined/>,\r\n\t\t\t\ttitle:'饼图'\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n]","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {Link,withRouter} from 'react-router-dom'\r\nimport { Menu } from 'antd';\r\n\r\nimport './index.less'\r\nimport logo from '../../assets/img/logo.jpg'\nimport menuList from '../../config/menuConfig'\r\nimport { setHeadTitle } from '../../redux/actions'\r\n\nconst { SubMenu } = Menu;\r\n\r\nclass Sider extends React.Component{\r\n\thandleClick = e => {\r\n\t    //console.log('sider click ', e);\r\n\t};\r\n\thasAuth(item){\r\n\t\tconst {key,isPublic} = item\r\n\t\tconst username = this.props.user.username\r\n\t\tconst menus = this.props.user.role.menus\r\n\t\tif(username === 'admin'||isPublic || menus.indexOf(key)>=0){\r\n\t\t\treturn true\r\n\t\t}else{\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\tranderMenu(menuList){\r\n\t\treturn menuList.map(item=>{\r\n\t\t\t//判断是否有权限\r\n\t\t\tif(!this.hasAuth(item)){\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!item.children){\r\n\t\t\t\tconst path = this.props.location.pathname\r\n\t\t\t\tif(item.key === path || path.indexOf(item.key)===0){\r\n\t\t\t\t\tthis.props.setHeadTitle(item.title)\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Menu.Item key={item.key}>\r\n\t\t\t\t\t\t<Link \r\n\t\t\t\t\t\t\tto={item.key} \r\n\t\t\t\t\t\t\tonClick={()=>{\r\n\t\t\t\t\t\t\t\tthis.props.setHeadTitle(item.title)\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<span >\r\n\t\t\t\t\t\t\t\t{item.icon}\r\n\t\t\t\t\t\t\t\t<span>{item.title}</span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t)\r\n\t\t\t}else{\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<SubMenu\r\n\t\t\t\t\t  key={item.key}\r\n\t\t\t\t\t  title={\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t  {item.icon}\r\n\t\t\t\t\t\t  <span>{item.title}</span>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{this.randerMenu(item.children)}\r\n\t\t\t\t\t</SubMenu>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\trender(){\r\n\t\tconst path = this.props.location.pathname\r\n\t\tconst openKeyArr=[]\r\n\t\tfor(let item of menuList){\r\n\t\t\tif(item.children){\r\n\t\t\t\tfor(let subItem of item.children){\r\n\t\t\t\t\tif((subItem.key === path || path.indexOf(subItem.key)===0) && !openKeyArr.includes(item.key)){\r\n\t\t\t\t\t\topenKeyArr.push(item.key)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet selectPath\r\n\t\tfor(let item of menuList){\r\n\t\t\tif(path === item.key){\r\n\t\t\t\tselectPath = item.key\r\n\t\t\t}else if(item.children){\r\n\t\t\t\tconst cItem = item.children.find(cItem=>path.indexOf(cItem.key)===0)\r\n\t\t\t\tif(cItem){\r\n\t\t\t\t\tselectPath = cItem.key\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className='sider'>\r\n\t\t\t\t<Link to='/' className='sider-header'>\r\n\t\t\t\t\t<img src={logo} alt='logo'/>\r\n\t\t\t\t\t<h1>电商管理</h1>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Menu\r\n\t\t\t\t\tonClick={this.handleClick}\r\n\t\t\t\t\tstyle={{ width: '100%'}}\r\n\t\t\t\t\tmode=\"inline\"\r\n\t\t\t\t\tselectedKeys={selectPath}\r\n\t\t\t\t\tdefaultOpenKeys={openKeyArr}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.randerMenu(menuList)}\r\n\t\t\t\t</Menu>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default connect(\r\n\tstate => ({user:state.user}),\r\n\t{setHeadTitle}\r\n)(withRouter(Sider))","export default function getDate(time){\r\n\tif(!time) return\r\n\tlet date = new Date(time)\r\n\treturn `${date.getFullYear()}-${date.getMonth()+1}-${date.getDate()}\r\n\t\t\t${date.getHours()}:${date.getMinutes()}:${date.getSeconds().toString().padStart(2,'0')}`\r\n}\r\n","import React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport {logout} from '../../redux/actions'\r\n\r\nimport { Modal } from 'antd';\r\nimport './index.less'\r\nimport memory from '../../utils/memory'\r\nimport {localRemove} from '../../utils/localStorage'\r\nimport getDate from '../../utils/getDate'\r\nimport {reqWeather} from '../../api'\r\nimport menuConfig from '../../config/menuConfig'\r\n\r\nconst { confirm } = Modal;\r\nclass Header extends React.Component{\r\n\tstate = {\r\n\t\tcurTime:'',\r\n\t\tdayPictureUrl:'',\r\n\t\tweather:''\r\n\t}\r\n\tgetTitle=(configArr,path)=>{\r\n\t\tlet title\r\n\t\tconfigArr.forEach(item=>{\r\n\t\t\tif(item.key === path){\r\n\t\t\t\ttitle = item.title\r\n\t\t\t}else if(item.children){\r\n\t\t\t\t//在‘/product/addupdate’中找到‘/product’的位置\r\n\t\t\t\tconst cItem = item.children.find(cItem=>path.indexOf(cItem.key)===0)\r\n\t\t\t\tif(cItem){\r\n\t\t\t\t\ttitle = cItem.title\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn title\r\n\t}\r\n\tlogout=()=>{\r\n\t\tconfirm({\r\n\t\t    title: '您确定要登出吗?',\r\n\t\t    onOk:()=>{\r\n\t\t      this.props.logout()\r\n\t\t    }\r\n\t\t  });\r\n\t}\r\n\tasync componentDidMount(){\r\n\t\tconst weatherInfo = await reqWeather('杭州')\r\n\t\tthis.setState({\r\n\t\t\tdayPictureUrl:weatherInfo.dayPictureUrl,\r\n\t\t\tweather:weatherInfo.weather\r\n\t\t})\r\n\t\tthis.timer = setInterval(()=>{\r\n\t\t\tthis.setState({\r\n\t\t\t\tcurTime:getDate(Date.now())\r\n\t\t\t})\r\n\t\t},1000)\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\t\tclearInterval(this.timer)\r\n\t}\r\n\trender(){\r\n\t\tconst user = this.props.user.username\r\n\t\tconst path = this.props.location.pathname\r\n\t\t//let title = this.getTitle(menuConfig,path)\r\n\t\t\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className='header'>\r\n\t\t\t\t<div className='header-top'>\r\n\t\t\t\t\t<span>欢迎使用,{user}</span>\r\n\t\t\t\t\t<button onClick={this.logout}>退出</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='header-bottom'>\r\n\t\t\t\t\t<div className='b-left'>{this.props.headTitle}</div>\r\n\t\t\t\t\t<div className='b-right'>\r\n\t\t\t\t\t\t<span>{this.state.curTime}</span>\r\n\t\t\t\t\t\t<img src={this.state.dayPictureUrl} alt='天气图标'/>\r\n\t\t\t\t\t\t<span>{this.state.weather}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tstate => ({headTitle: state.headTitle,user:state.user}),\r\n\t{logout}\r\n)(withRouter(Header))\r\n","import React from 'react'\r\nimport './index.less'\r\nexport default class Header extends React.Component{\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div className='footer'>电商管理系统,作者:程铖</div>\r\n\t\t)\r\n\t}\r\n}","import React from 'react'\r\nimport './index.less'\r\n\r\nexport default class Home extends React.Component{\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div id='wrap'>\r\n\t\t\t\t<p className='info'>欢迎使用电商管理系统</p>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","import React,{useEffect} from 'react';\nimport { Modal, Form, Input, Select} from 'antd';\nimport propTypes from 'prop-types'\r\nconst { Option } = Select;\n\r\nconst AddModal = ({ visible, onCreate, onCancel, data, reqId }) => {\n  const [form] = Form.useForm();\r\n  useEffect(() => {\r\n      form.setFieldsValue({parentId: reqId});\r\n  }, [visible,reqId,form])\n  return (\n    <Modal\r\n\t  getContainer={false}\n      visible={visible}\n      title=\"添加分类\"\n      okText=\"确认提交\"\n      cancelText=\"取消\"\n      onCancel={onCancel}\n      onOk={() => {\n        form\n          .validateFields()\n          .then((values) => {\n            form.resetFields();\r\n\t\t\t//让index中的添加函数执行\n            onCreate(values);\n          })\n          .catch((info) => {\n            console.log('Validate Failed:', info);\n          });\n      }}\n    >\n      <Form\r\n\t    id='addCategoryForm'\n        form={form}\n        layout=\"vertical\"\n        name=\"form_in_modal\"\n        initialValues={{\n          parentId: reqId,\n        }}\n      >\n        <Form.Item\n          name=\"parentId\"\n        >\n\t\t\t<Select\r\n\t\t\t>\r\n\t\t\t  <Option value=\"0\">一级分类</Option>\r\n\t\t\t  {data.map(item=><Option key={item._id} value={item._id}>{item.name}</Option>)}\r\n\t\t\t</Select>\n        </Form.Item>\n        <Form.Item name=\"categoryName\" \r\n\t\t rules={[{ \r\n\t\t\t required: true,\r\n\t\t\t message: '请填写分类!'\r\n\t\t }]}>\n          <Input id='addCategoryInput' type=\"textarea\" placeholder=\"新增分类\"/>\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\r\n\r\nAddModal.propTypes = {\n    visible: propTypes.bool.isRequired,\n    onCreate: propTypes.func.isRequired,\r\n\tonCancel: propTypes.func.isRequired,\r\n\tdata: propTypes.array.isRequired,\r\n\treqId: propTypes.string.isRequired,\n};\r\nexport default AddModal","import React,{useEffect} from 'react';\nimport { Modal, Form, Input} from 'antd';\r\nimport propTypes from 'prop-types'\n\nconst UpDateModal = ({ visible, onCreate, onCancel, defaultText }) => {\n  const [form] = Form.useForm();\r\n  useEffect(() => {\r\n      form.setFieldsValue({categoryName:defaultText});\r\n  }, [visible,defaultText,form])\n  return (\n    <Modal\r\n\t  getContainer={false}\n      visible={visible}\n      title=\"修改类名\"\n      okText=\"确认提交\"\n      cancelText=\"取消\"\n      onCancel={onCancel}\n      onOk={() => {\n        form\n          .validateFields()\n          .then((values) => {\n            form.resetFields();\n            onCreate(values);\n          })\n          .catch((info) => {\n            console.log('Validate Failed:', info);\n          });\n      }}\n    >\n      <Form\n        form={form}\n        layout=\"vertical\"\n        name=\"form_in_modal\"\n        initialValues={{\n          categoryName: defaultText,\n        }}\n      >\n        <Form.Item\n          name=\"categoryName\"\n          rules={[\n            {\n              required: true,\n              message: '请填写品类名称再提交!',\n            },\n          ]}\n        >\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\r\n\r\nUpDateModal.propTypes = {\n    visible: propTypes.bool.isRequired,\n    onCreate: propTypes.func.isRequired,\r\n\tonCancel: propTypes.func.isRequired,\r\n\tdefaultText: propTypes.string,\n};\r\nexport default UpDateModal","import React from 'react'\r\nimport { Card, Table, Space, Button} from 'antd';\r\nimport {PlusOutlined, ArrowRightOutlined} from '@ant-design/icons'\r\nimport {reqCategoryList, reqCategoryAdd, reqCategoryUpdate} from '../../api'\r\nimport AddModal from './AddModal'\r\nimport UpDateModal from './UpDateModal'\r\n\r\nexport default class Category extends React.Component{\r\n\tstate = {\r\n\t\tdata:[],\r\n\t\tsubData:[],\r\n\t\ttitle:'一级分类列表',\r\n\t\tisLoading:false,\r\n\t\treqId:'0',\r\n\t\tmodalStatus:0,//为0时都隐藏，为1时显示addModal，为2时显示updateModal\r\n\t}\r\n\t//添加框部分\r\n\tshowAdd = ()=>{\r\n\t\tthis.setState({\r\n\t\t\tmodalStatus:1\r\n\t\t})\r\n\t}\r\n\taddModal = async(values) => {\r\n\t  //隐藏\r\n\t  this.setState({\r\n\t  \tmodalStatus:0\r\n\t  })\r\n\t  const result = await reqCategoryAdd(values)\r\n\t  if(result.status === 0){\r\n\t\t  if(values.parentId === this.state.reqId){\r\n\t\t\t  this.getDateList()\r\n\t\t\t  return \r\n\t\t  }\r\n\t\t  if(values.parentId === '0'){\r\n\t\t\t  const data = await reqCategoryList('0')\r\n\t\t\t  if(data.status === 0){\r\n\t\t\t\t  this.setState({\r\n\t\t\t\t  \tdata:data.data,\r\n\t\t\t\t  })\r\n\t\t\t  }\r\n\t\t  }\r\n\t  }\r\n\t  \r\n\t}\r\n\t//更改框部分\r\n\tshowUpdate = (obj)=>{\r\n\t\tthis.clickObj = obj\r\n\t\tthis.setState({\r\n\t\t\tmodalStatus:2\r\n\t\t})\r\n\t}\r\n\tupdateModal = async(value)=>{\r\n\t\t//隐藏\r\n\t\tthis.setState({\r\n\t\t\tmodalStatus:0\r\n\t\t})\r\n\t\t//发送请求\r\n\t\tconst categoryId = this.clickObj._id\r\n\t\tconst categoryName = value.categoryName\r\n\t\tconst result = await reqCategoryUpdate(categoryId,categoryName)\r\n\t\t//成功后重新渲染\r\n\t\tif(result.status === 0){\r\n\t\t\tthis.getDateList()\r\n\t\t}\r\n\t}\r\n\t\r\n\thiddenModal = ()=>{\r\n\t\tthis.setState({\r\n\t\t\tmodalStatus:0\r\n\t\t})\r\n\t}\r\n\t\r\n\tcreateColumns(){\r\n\t\tthis.columns = [\r\n\t\t  {\r\n\t\t    title: '分类名称',\r\n\t\t    dataIndex: 'name',\r\n\t\t    key: '_id',\r\n\t\t  },\r\n\t\t  {\r\n\t\t    title: '操作',\r\n\t\t    key: 'action',\r\n\t\t\twidth:200,\r\n\t\t    render: (obj) => (\r\n\t\t      <Space size=\"middle\">\r\n\t\t\t\t<Button type=\"link\" onClick={()=>{this.showUpdate(obj)}}>修改分类</Button>\r\n\t\t\t\t{this.state.reqId === '0' ? \r\n\t\t\t\t<Button type=\"link\" onClick={()=>{this.upDataReqIdAndTitle(obj)}}>查看子分类</Button> : null}\r\n\t\t      </Space>\r\n\t\t    ),\r\n\t\t  },\r\n\t\t];\r\n\t}\r\n\tchangeCategory=(e)=>{\r\n\t\tconsole.log(e.target.value)\r\n\t}\r\n\tupDataReqIdAndTitle(obj){\r\n\t\tthis.setState({\r\n\t\t\ttitle:(<Space>\r\n\t\t\t\t<Button type=\"link\" onClick={this.showFirstList}>一级分类列表</Button>\r\n\t\t\t\t<ArrowRightOutlined />\r\n\t\t\t\t<span>{obj.name}</span>\r\n\t\t\t</Space>),\r\n\t\t\treqId:obj._id\r\n\t\t\t},()=>{\r\n\t\t\t\tthis.getDateList()\r\n\t\t\t})\r\n\t}\r\n\tshowFirstList=()=>{\r\n\t\tthis.setState({\r\n\t\t\ttitle:'一级分类列表',\r\n\t\t\treqId:'0'\r\n\t\t})\r\n\t}\r\n\tasync getDateList(){\r\n\t\tthis.setState({\r\n\t\t\tisLoading:true\r\n\t\t})\r\n\t\tconst data = await reqCategoryList(this.state.reqId)\r\n\t\tthis.setState({\r\n\t\t\tisLoading:false\r\n\t\t})\r\n\t\tif(data.status !== 0) return\r\n\t\tif(this.state.reqId === '0'){\r\n\t\t\tthis.setState({\r\n\t\t\t\tdata:data.data,\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tthis.setState({\r\n\t\t\t\tsubData:data.data,\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.createColumns()\r\n\t\tthis.getDateList()\r\n\t}\r\n\trender(){\r\n\t\tconst clickObj = this.clickObj||{}\r\n\t\treturn(\r\n\t\t\t<Card\r\n\t\t\t  type=\"inner\"\r\n\t\t\t  title={this.state.title}\r\n\t\t\t  extra={<Button type=\"primary\" icon={<PlusOutlined />} onClick={this.showAdd}>添加</Button>}\r\n\t\t\t>\r\n\t\t\t  <Table \r\n\t\t\t  columns={this.columns} \r\n\t\t\t  dataSource={this.state.reqId === '0'?this.state.data:this.state.subData} \r\n\t\t\t  bordered \r\n\t\t\t  loading = {this.state.isLoading}\r\n\t\t\t  rowKey='_id'\r\n\t\t\t  pagination={{\r\n\t\t\t\t  pageSizeOptions:['3','5','8'],\r\n\t\t\t\t  defaultPageSize:3,\r\n\t\t\t\t  showSizeChanger:true,\r\n\t\t\t\t  showQuickJumper:true,\r\n\t\t\t\t  hideOnSinglePage:true}}\r\n\t\t\t  />\r\n\t\t\t \r\n\t\t\t  <AddModal\r\n\t\t\t    visible={this.state.modalStatus === 1}\r\n\t\t\t    onCreate={this.addModal}\r\n\t\t\t    onCancel={this.hiddenModal}\r\n\t\t\t\tdata={this.state.data}\r\n\t\t\t\treqId={this.state.reqId}\r\n\t\t\t  />\r\n\t\t\t  <UpDateModal\r\n\t\t\t    visible={this.state.modalStatus === 2}\r\n\t\t\t    onCreate={this.updateModal}\r\n\t\t\t    onCancel={this.hiddenModal}\r\n\t\t\t\tdefaultText = {clickObj.name}\r\n\t\t\t  />\r\n\t\t\t</Card>\r\n\t\t)\r\n\t}\r\n}","import React from 'react'\r\nimport {Form,Row ,Select, Input, Button} from 'antd';\r\nimport PropTypes from 'prop-types'\r\n\r\nconst { Option } = Select;\r\nconst { Item} =Form\r\nexport default function SearchBar(props){\r\n\tfunction onFinish(value){\r\n\t\tconst {productSelect,productKey} = value\r\n\t\tprops.setbarKey(productKey)\r\n\t\tprops.setbarSearch(productSelect)\r\n\t\tprops.setPage(1)\r\n\t}\r\n\treturn(\r\n\t\t<Form onFinish={onFinish} initialValues={{'productSelect':'productName'}}>\r\n\t\t\t<Row>\r\n\t\t\t\t<Item name=\"productSelect\" style={{margin:0}}>\r\n\t\t\t\t\t<Select style={{ width: 120 }}>\r\n\t\t\t\t\t  <Option value=\"productName\">按名称搜索</Option>\r\n\t\t\t\t\t  <Option value=\"productDesc\">按描述搜索</Option>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</Item>\r\n\t\t\t\t<Item name=\"productKey\" style={{margin:0}}>\r\n\t\t\t\t\t<Input placeholder=\"关键字\" style={{ width: 120, margin:'0 10px' }}/>\r\n\t\t\t\t</Item>\r\n\t\t\t\t<Item style={{margin:0}}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">搜索</Button>\r\n\t\t\t\t</Item>\r\n\t\t\t</Row>\r\n\t\t\t\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nSearchBar.propTypes = {\r\n\tsetbarKey:PropTypes.func.isRequired,\r\n\tsetbarSearch:PropTypes.func.isRequired,\r\n\tsetPage:PropTypes.func.isRequired\r\n}","import React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {Button} from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\n\r\nfunction AddButton(props){\r\n\tconst state={\r\n\t\ttext:'添加商品'\r\n\t}\r\n\treturn (\r\n\t\t<Button \r\n\t\t  type=\"primary\" \r\n\t\t  icon={<PlusOutlined />} \r\n\t\t  onClick={()=>{\r\n\t\t\tprops.history.push('/product/addupdate',state)\r\n\t\t}}>添加</Button>\r\n\t)\r\n}\r\nexport default withRouter(AddButton)\r\n\r\n","import React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport { Button, Table } from 'antd';\r\nimport PropTypes from 'prop-types'\r\nimport {PAGE_SIZE} from '../../../config/productConfig'\r\nimport {reqProductUpdateStatus} from '../../../api'\r\n\r\n\r\n function ProductFrom(props){\r\n\tconst {pageNum,match,history} = props\r\n\t\r\n\tconst data = props.list\r\n\tconst columns = [\r\n\t  {\r\n\t    title: '商品名称',\r\n\t    dataIndex: 'name',\r\n\t\tkey: 'name',\r\n\t\twidth: '12%'\r\n\t  },\r\n\t  {\r\n\t    title: '商品描述',\r\n\t    dataIndex: 'desc',\r\n\t\tkey: 'desc',\r\n\t\twidth: '60%'\r\n\t  },\r\n\t  {\r\n\t    title: '价格',\r\n\t\tkey: 'price',\r\n\t\trender:(product)=>`￥${product.price}`\r\n\t  },\r\n\t  {\r\n\t\t  title:'状态',\r\n\t\t  key:'status',\r\n\t\t  render: (product) => {\r\n\t\t\t  const {status} = product\r\n\t\t\t  let newStatus = status===1?0:1\r\n\t\t\t  return (\r\n\t\t\t  <div>\r\n\t\t\t\t  <Button type=\"primary\" \r\n\t\t\t\t\tonClick={()=>{updateStatus(product,newStatus)}}>\r\n\t\t\t\t\t{status===1?'下架':'上架'}\r\n\t\t\t\t  </Button>\r\n\t\t\t\t  <span>{status===1?'在售':'售完'}</span>\r\n\t\t\t  </div>\r\n\t\t\t  )\r\n\t\t  }\r\n\t  },\r\n\t  {\r\n\t  \t  title:'操作',\r\n\t\t  key:'action',\r\n\t  \t  render: (product) =>{\r\n\t\t\t  return (\r\n\t\t\t  <div>\r\n\t\t\t\t  <Button type=\"link\" onClick={()=>{\r\n\t\t\t\t\t  history.push(match.url+'/detail',product)\r\n\t\t\t\t  }}>详情</Button>\r\n\t\t\t\t  <Button type=\"link\" onClick={()=>{\r\n\t\t\t\t\t  history.push(match.url+'/addupdate',{product,text:'修改商品'})\r\n\t\t\t\t  }}>修改</Button>\r\n\t\t\t  </div>\r\n\t\t\t  )\r\n\t\t  }\r\n\t  },\r\n\t];\r\n\tasync function updateStatus(product,newStatus){\r\n\t\tconst {_id} = product\r\n\t\tconst res = await reqProductUpdateStatus({productId: _id,status:newStatus})\r\n\t\tif(res.status===0){\r\n\t\t\tprops.refresh()\r\n\t\t}\r\n\t}\r\n\tfunction pageChange(page,pageSize){\r\n\t\tprops.setPage(page)\r\n\t}\r\n\treturn (\r\n\t\t<Table \r\n\t\t\tbordered \r\n\t\t\tcolumns={columns} \r\n\t\t\tdataSource={data} \r\n\t\t\tpagination={{ \r\n\t\t\t\tcurrent:pageNum,\r\n\t\t\t\tpageSize: PAGE_SIZE,\r\n\t\t\t\ttotal:props.total,\r\n\t\t\t\tonChange:(page,pageSize)=>{pageChange(page,pageSize)} \r\n\t\t\t}}  \r\n\t\t/>\r\n\t)\r\n}\r\nProductFrom.propTypes = {\r\n\tlist:PropTypes.array.isRequired,\r\n\ttotal:PropTypes.number.isRequired,\r\n\tsetPage:PropTypes.func.isRequired\r\n}\r\n\r\nexport default withRouter(ProductFrom)","export const PAGE_SIZE = 4\r\nexport const IMG_BASE_URL = 'http://localhost:5000/upload/'","import React,{useState,useEffect} from 'react'\r\nimport { Card } from 'antd';\r\nimport {reqProductList,reqProduct} from '../../../api'\r\nimport {PAGE_SIZE} from '../../../config/productConfig'\r\n\r\nimport SearchBar from './SearchBar'\r\nimport AddButton from './AddButton'\r\nimport ProductFrom from './ProductFrom'\r\n\r\n\r\nexport default function Home(props){\r\n\tconst [Plist,setPlist] = useState([])\r\n\tconst [total,setTotal] = useState(0)\r\n\tconst [pageNum,setPageNum] = useState(1)\r\n\tconst [key,setKey] = useState('')\r\n\tconst [select,setSelect] = useState('productName')\r\n\t\r\n\t\r\n\t//得到普通的商品列表\r\n\tasync function getProduct(pageSize,pageNum){\r\n\t\tconst result = await reqProductList({\r\n\t\t\tpageSize,\r\n\t\t\tpageNum\r\n\t\t})\r\n\t\tif(result.status === 0){\r\n\t\t\tlet {total,list} = result.data\r\n\t\t\tlist = list.map(item=> {\r\n\t\t\t\titem.key=item._id\r\n\t\t\t\treturn item\r\n\t\t\t})\r\n\t\t\tsetPlist(list)\r\n\t\t\tsetTotal(total)\r\n\t\t}\r\n\t}\r\n\t\r\n\t//得到选中的商品列表\r\n\tasync function getProductSelect(pageSize,pageNum,searchType,key){\r\n\t\tconst result = await reqProduct({\r\n\t\t\tpageSize,\r\n\t\t\tpageNum,\r\n\t\t\t[searchType]:key\r\n\t\t})\r\n\t\tif(result.status === 0){\r\n\t\t\tlet {total,list} = result.data\r\n\t\t\tlist = list.map(item=> {\r\n\t\t\t\titem.key=item._id\r\n\t\t\t\treturn item\r\n\t\t\t})\r\n\t\t\tsetPlist(list)\r\n\t\t\tsetTotal(total)\r\n\t\t}\r\n\t}\r\n\t\r\n\tuseEffect(()=>{\r\n\t\tif(key === ''){\r\n\t\t\tgetProduct(PAGE_SIZE,pageNum)\r\n\t\t}else{\r\n\t\t\tgetProductSelect(PAGE_SIZE,pageNum,select,key)\r\n\t\t}\r\n\t},[pageNum,key,select])\r\n\t\r\n\treturn (\r\n\t\t<Card \r\n\t\t\ttitle={<SearchBar \r\n\t\t\t\tsetbarKey={key=>setKey(key)}\r\n\t\t\t\tsetbarSearch={select=>setSelect(select)}\r\n\t\t\t\tsetPage={pageNum=>setPageNum(pageNum)}\r\n\t\t\t/>} \r\n\t\t\textra={<AddButton \r\n\t\t\t/>}\r\n\t\t>\r\n\t\t\t<ProductFrom \r\n\t\t\t\tlist={Plist} \r\n\t\t\t\ttotal={total} \r\n\t\t\t\tpageNum={pageNum}\r\n\t\t\t\tsetPage={pageNum=>setPageNum(pageNum)}\r\n\t\t\t\trefresh={()=>{getProductSelect(PAGE_SIZE,pageNum,select,key)}}\r\n\t\t\t/>\r\n\t\t</Card>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport { Button } from 'antd';\r\nimport { ArrowLeftOutlined } from '@ant-design/icons';\r\n\r\nfunction OTitle(props){\r\n\tconst {text} = props.location.state\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Button type=\"link\" onClick={()=>{\r\n\t\t\t\tprops.history.goBack()\r\n\t\t\t}}>\r\n\t\t\t\t<ArrowLeftOutlined />\r\n\t\t\t</Button>\r\n\t\t\t<span>{text}</span>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default withRouter(OTitle)","import React,{useState,useEffect,forwardRef,useImperativeHandle} from 'react'\r\nimport { Upload, Modal, message } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport {reqImgDelete} from '../../../api'\r\n\r\nconst uploadButton = (\n  <div>\n\t<PlusOutlined />\n\t<div style={{ marginTop: 8 }}>Upload</div>\n  </div>\n);\r\n\r\nconst PicturesWall = forwardRef((props,ref)=>{\r\n\tconst imgList = props.value||[]\r\n\tconst [fileList,setFileList] = useState([])\r\n\tconst [previewImage,setPreviewImage] = useState('')\r\n\tconst [previewVisible,setPreviewVisible] = useState(false)\r\n\tuseEffect(()=>{\r\n\t\tlet fileList = imgList.map((item,index)=>({\r\n\t\t\tuid: -index,\r\n\t\t\tname: item,\r\n\t\t\tstatus: 'done',\r\n\t\t\turl:'http://localhost:5000/upload/'+item\r\n\t\t}))\r\n\t\tsetFileList(fileList)\r\n\t},[])\r\n\tasync function handlePreview(file){\r\n\t\tif (!file.url && !file.preview) {\r\n\t\t  file.preview = await getBase64(file.originFileObj);\r\n\t\t}\r\n\t\tsetPreviewImage(file.url || file.preview)\r\n\t\tsetPreviewVisible(true)\r\n\t}\r\n\tasync function handleChange({ file,fileList }){\r\n\t\tif(file.status === 'done'){\r\n\t\t\tif(file.response.status===0){\r\n\t\t\t\tmessage.success('图片上传成功')\r\n\t\t\t\tfile = fileList[fileList.length-1]\r\n\t\t\t\tfile.name = file.response.data.name\r\n\t\t\t\tfile.uid = file.response.data.name\r\n\t\t\t\tfile.url = file.response.data.url\r\n\t\t\t\tsetFileList([...fileList])\r\n\t\t\t}else{\r\n\t\t\t\tmessage.error('图片上传失败')\r\n\t\t\t}\r\n\t\t}else if(file.status === 'removed'){\r\n\t\t\tconst name = file.name\r\n\t\t\tconst result = await reqImgDelete(name)\r\n\t\t\tif(result.status === 0){\r\n\t\t\t\tmessage.success('删除成功')\r\n\t\t\t}\r\n\t\t\tsetFileList([...fileList])\r\n\t\t}\r\n\t}\r\n\tfunction handleCancel(){\r\n\t\tsetPreviewVisible(false)\r\n\t}\r\n\tuseImperativeHandle(ref,()=>({\r\n\t\tgetImgName\r\n\t}))\r\n\tfunction getImgName(){\r\n\t\treturn fileList.map(item=>{\r\n\t\t\tconst name = item.name\r\n\t\t\treturn name\r\n\t\t})\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Upload\r\n\t\t\t  accept='image/*'\r\n\t\t\t  name='image'\r\n\t\t\t  action=\"/manage/img/upload\"\r\n\t\t\t  listType=\"picture-card\"\r\n\t\t\t  fileList={fileList} //已经上传的文件数组\r\n\t\t\t  onPreview={handlePreview} //点击预览时的回调\r\n\t\t\t  onChange={handleChange} //文件改变时的回调\r\n\t\t\t>\r\n\t\t\t  {fileList.length >= 3 ? null : uploadButton}\r\n\t\t\t</Upload>\r\n\t\t\t<Modal\r\n\t\t\t  visible={previewVisible}\r\n\t\t\t  footer={null}\r\n\t\t\t  onCancel={handleCancel}//取消的回调\r\n\t\t\t>\r\n\t\t\t  <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t)\r\n})\r\nexport default PicturesWall\r\nfunction getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n  });\n}","import React, { useState,useEffect,forwardRef,useImperativeHandle } from 'react';\r\nimport { EditorState, convertToRaw, ContentState } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\n\nconst RichTextBox = forwardRef((props,ref)=>{\r\n\tconst html = props.value||''\r\n\t\r\n\tconst [editorState,setEditorState] = useState(EditorState.createEmpty())\r\n\t\r\n\tuseEffect(()=>{\r\n\t\tconst contentBlock = htmlToDraft(html);\r\n\t\tconst contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\r\n\t\tconst editorState = EditorState.createWithContent(contentState);\r\n\t\tsetEditorState(editorState)\r\n\t},[])\r\n\t\r\n\tfunction onEditorStateChange(editorState){\r\n\t\tsetEditorState(editorState)\r\n\t}\r\n\tfunction getRichBox(){\r\n\t\treturn draftToHtml(convertToRaw(editorState.getCurrentContent()))\r\n\t}\r\n\tuseImperativeHandle(ref,()=>({\r\n\t\tgetRichBox\r\n\t}))\r\n\treturn (\r\n\t  <div>\r\n\t    <Editor\r\n\t      editorState={editorState}\r\n\t      wrapperClassName=\"demo-wrapper\"\r\n\t      editorClassName=\"demo-editor\"\r\n\t\t  editorStyle={{border:'1px solid #000', height:200 }}\r\n\t      onEditorStateChange={onEditorStateChange}\r\n\t    />\r\n\t  </div>\r\n\t);\r\n})\r\nexport default RichTextBox","import React,{useState,useEffect,useRef} from 'react'\r\nimport OTitle from './title'\r\nimport PicturesWall from './picturesWall'\r\nimport RichTextBox from './richTextBox'\r\nimport { Card, Form, Input, Cascader, Button, message } from 'antd';\r\nimport {reqCategoryList,reqProductAdd,reqProductUpdate} from '../../../api'\r\n\r\nconst {Item} = Form\r\nconst { TextArea } = Input;\r\n\r\nexport default function AddUpdate(props){\r\n\tlet {product,text} = props.location.state\r\n\tconst [form] = Form.useForm()\r\n\tconst pictureRef = useRef()\r\n\tconst richTextRef = useRef()\r\n\tconst [options,setOptions] = useState([])\r\n\tconst [choose,setChoose] = useState([])\r\n\t\r\n\tconst formItemLayout = {\r\n\t  labelCol: {\r\n\t    xs: { span: 24 },\r\n\t    sm: { span: 3 },\r\n\t  },\r\n\t  wrapperCol: {\r\n\t    xs: { span: 24 },\r\n\t    sm: { span: 8 },\r\n\t  },\r\n\t};\r\n\tasync function onFinish(value){\r\n\t\tvalue.imgs = pictureRef.current.getImgName()\r\n\t\tvalue.detail = richTextRef.current.getRichBox()\r\n\t\tif(value.classify.length<2){\r\n\t\t\tvalue.pCategoryId = '0'\r\n\t\t\tvalue.categoryId = value.classify[0]\r\n\t\t}else{\r\n\t\t\tvalue.pCategoryId = value.classify[0]\r\n\t\t\tvalue.categoryId = value.classify[1]\r\n\t\t}\r\n\t\tlet result\r\n\t\t\r\n\t\tif(text === '修改商品'){\r\n\t\t\tvalue._id = product._id\r\n\t\t\tresult = await reqProductUpdate(value)\r\n\t\t}else{\r\n\t\t\tresult = await reqProductAdd(value)\r\n\t\t}\r\n\t\tif(result.status === 0){\r\n\t\t\tmessage.success('提交完成')\r\n\t\t\tprops.history.goBack()\r\n\t\t}\r\n\t}\r\n\t\r\n\t//级联部分\r\n\tuseEffect(()=>{\r\n\t\t(async()=>{\r\n\t\t\t//创建时\r\n\t\t\tlet options\r\n\t\t\tconst result = await reqCategoryList(0)\r\n\t\t\tif(result.status === 0){\r\n\t\t\t\toptions = result.data.map(item=>({\r\n\t\t\t\t\tlabel:item.name,\r\n\t\t\t\t\tvalue:item._id,\r\n\t\t\t\t\tisLeaf:false\r\n\t\t\t\t}))\r\n\t\t\t\tsetOptions(options)\r\n\t\t\t}\r\n\t\t\t//修改时\r\n\t\t\tif(product){\r\n\t\t\t\tlet defaultC = []\r\n\t\t\t\tif(product.pCategoryId === '0'){\r\n\t\t\t\t\tdefaultC.push(product.categoryId)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdefaultC.push(product.pCategoryId)\r\n\t\t\t\t\tdefaultC.push(product.categoryId)\r\n\t\t\t\t\t//遍历options，找到对应product.pCategoryId的数据，在上面加上children\r\n\t\t\t\t\tconst targetOption = options.filter(item=>{\r\n\t\t\t\t\t\treturn item.value === product.pCategoryId\r\n\t\t\t\t\t})[0]\r\n\t\t\t\t\tconst result = await reqCategoryList(targetOption.value)\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(result.status === 0){\r\n\t\t\t\t\t\tif(result.data.length>0){\r\n\t\t\t\t\t\t\ttargetOption.children = result.data.map(item=>({\r\n\t\t\t\t\t\t\t\tvalue:item._id,\r\n\t\t\t\t\t\t\t\tlabel:item.name,\r\n\t\t\t\t\t\t\t\tisLeaf:true\r\n\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\ttargetOption.isLeaf = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsetOptions([...options])\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//设置默认选项的value,这里initialValues 不能被 setState 动态更新，需要用 setFieldsValue 来更新\r\n\t\t\t\tform.setFieldsValue({ classify: defaultC })\r\n\t\t\t}\r\n\t\t})()\r\n\t},[])\r\n\tfunction onChange(value, selectedOptions){\r\n\t\tsetChoose(value)\r\n\t}\r\n\tasync function loadData(selectedOptions){\r\n\t    const targetOption = selectedOptions[selectedOptions.length - 1];\r\n\t    targetOption.loading = true;\r\n\t    const result = await reqCategoryList(targetOption.value)\r\n\t     targetOption.loading = false;\r\n\t\tif(result.status === 0){\r\n\t\t\tif(result.data.length>0){\r\n\t\t\t\ttargetOption.children = result.data.map(item=>({\r\n\t\t\t\t\tvalue:item._id,\r\n\t\t\t\t\tlabel:item.name,\r\n\t\t\t\t\tisLeaf:true\r\n\t\t\t\t}))\r\n\t\t\t}else{\r\n\t\t\t\t//二级列表的长度为0\r\n\t\t\t\ttargetOption.isLeaf = true\r\n\t\t\t}\r\n\t\t\tsetOptions([...options])\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Card title={<OTitle/>}>\r\n\t\t  <Form\r\n\t\t\t{...formItemLayout}\r\n\t\t\tform={form}\r\n\t\t\tname=\"register\"\r\n\t\t\tonFinish={onFinish}\r\n\t\t\tinitialValues={{...product}}\r\n\t\t\tscrollToFirstError\r\n\t\t  >\r\n\t\t\t  <Item\r\n\t\t\t\tname=\"name\"\r\n\t\t\t\tlabel=\"商品名称\"\r\n\t\t\t\trules={[\r\n\t\t\t\t  {\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: '请填写商品名称',\r\n\t\t\t\t  },\r\n\t\t\t\t]}\r\n\t\t\t  >\r\n\t\t\t\t<Input />\r\n\t\t\t  </Item>\r\n\t\t\t  <Item\r\n\t\t\t\tname=\"desc\"\r\n\t\t\t\tlabel=\"商品描述\"\r\n\t\t\t\trules={[\r\n\t\t\t\t  {\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: '请填写商品描述',\r\n\t\t\t\t  },\r\n\t\t\t\t]}\r\n\t\t\t  >\r\n\t\t\t\t<TextArea rows={1} placeholder='请输入商品描述'/>\r\n\t\t\t  </Item>\r\n\t\t\t  <Item\r\n\t\t\t\tname=\"price\"\r\n\t\t\t\tlabel=\"商品价格\"\r\n\t\t\t\trules={[\r\n\t\t\t\t  {\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: '请填写商品价格',\r\n\t\t\t\t  },\r\n\t\t\t\t  ({ getFieldValue }) => ({\r\n\t\t\t\t\t  validator(rule, value) {\r\n\t\t\t\t\t\tif (!value || 0 < value) {\r\n\t\t\t\t\t\t  return Promise.resolve();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn Promise.reject('价格必须为大于0的数字!');\r\n\t\t\t\t\t  },\r\n\t\t\t\t\t}),\r\n\t\t\t\t]}\r\n\t\t\t  >\r\n\t\t\t\t<Input prefix=\"￥\" suffix=\"RMB\" />\r\n\t\t\t  </Item>\r\n\t\t\t  <Item\r\n\t\t\t\tname=\"classify\"\r\n\t\t\t\tlabel=\"商品分类\"\r\n\t\t\t\trules={[\r\n\t\t\t\t  {\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: '请选择商品分类',\r\n\t\t\t\t  },\r\n\t\t\t\t]}\r\n\t\t\t  >\r\n\t\t\t\t<Cascader\r\n\t\t\t\t\toptions={options}\r\n\t\t\t\t\tloadData={loadData}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tchangeOnSelect\r\n\t\t\t\t/>\r\n\t\t\t  </Item>\r\n\t\t\t  <Item\r\n\t\t\t\tname=\"imgs\"\r\n\t\t\t\tlabel=\"商品图片\"\r\n\t\t\t\tlabelCol={{span:3}}\r\n\t\t\t\twrapperCol={{span:20}}\r\n\t\t\t  >\r\n\t\t\t\t<PicturesWall ref={pictureRef}/>\r\n\t\t\t  </Item>\r\n\t\t\t  <Item\r\n\t\t\t\tname=\"detail\"\r\n\t\t\t\tlabel=\"商品详情\"\r\n\t\t\t\tlabelCol={{span:3}}\r\n\t\t\t\twrapperCol={{span:20}}\r\n\t\t\t  >\r\n\t\t\t  \t<RichTextBox ref={richTextRef}/>\t\t\t\r\n\t\t\t  </Item>\r\n\t\t\t\t\r\n\t\t\t  <Item>\r\n\t\t\t\t  <Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t提交\r\n\t\t\t\t  </Button>\r\n\t\t\t  </Item>\r\n\t\t  </Form>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\n","import React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport { Button } from 'antd';\r\nimport { ArrowLeftOutlined } from '@ant-design/icons';\r\n\r\nfunction DetailTitle(props){\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Button \r\n\t\t\t\ttype=\"link\" \r\n\t\t\t\tstyle={{padding:'0 10px'}} \r\n\t\t\t\tonClick={()=>{\r\n\t\t\t\t\tprops.history.goBack()\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<ArrowLeftOutlined style={{fontSize:'1.2rem'}}/>\r\n\t\t\t</Button>\r\n\t\t\t<span>商品管理</span>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default withRouter(DetailTitle)","import React,{useState,useEffect} from 'react'\r\nimport { Card, List } from 'antd';\r\nimport DetailTitle from './DetailTitle'\r\nimport './index.less'\r\nimport {reqCategoryInfo} from '../../../api'\r\nimport {IMG_BASE_URL} from '../../../config/productConfig'\r\n\r\nconst {Item} = List\r\nexport default function Detail(props){\r\n\tconst {state} = props.location\r\n\tconst [cateName,setCateName] = useState('')\r\n\tconst [pCateName,setPCateName] = useState('')\r\n\tuseEffect(()=>{\r\n\t\tif(state.pCategoryId === 0){\r\n\t\t\t(async function(){\r\n\t\t\t\tconst result = await reqCategoryInfo(state.categoryId)\r\n\t\t\t\tsetCateName(result.data.name)\r\n\t\t\t})()\r\n\t\t}else{\r\n\t\t\t(async function(){\r\n\t\t\t\tconst results = await Promise.all([reqCategoryInfo(state.pCategoryId),reqCategoryInfo(state.categoryId)])\r\n\t\t\t\tsetPCateName(results[0].data.name)\r\n\t\t\t\tsetCateName(results[1].data.name)\r\n\t\t\t})()\r\n\t\t}\r\n\t},[state.pCategoryId,state.categoryId])\r\n\t\r\n\treturn (\r\n\t\t<Card title={<DetailTitle/>} className='detail'>\r\n\t\t  <List bordered >\r\n\t\t\t<Item>\r\n\t\t\t\t<span className='left'>商品名称:</span>\r\n\t\t\t\t<span>{state.name}</span>\r\n\t\t\t</Item>\r\n\t\t\t<Item>\r\n\t\t\t\t<span className='left'>商品描述:</span>\r\n\t\t\t\t<span>{state.desc}</span>\r\n\t\t\t</Item>\r\n\t\t\t<Item>\r\n\t\t\t\t<span className='left'>商品价格:</span>\r\n\t\t\t\t<span>{state.price}元</span>\r\n\t\t\t</Item>\r\n\t\t\t<Item>\r\n\t\t\t\t<span className='left'>所属分类:</span>\r\n\t\t\t\t{state.pCategoryId === 0?<span>{cateName}</span>:<span>{pCateName+'-->'+cateName}</span>}\r\n\t\t\t</Item>\r\n\t\t\t<Item>\r\n\t\t\t\t<span className='left'>商品图片:</span>\r\n\t\t\t\t\r\n\t\t\t\t{state.imgs.map(item=><img key={item} src={IMG_BASE_URL+item} alt='图片'/>)}\r\n\t\t\t</Item>\r\n\t\t\t<Item>\r\n\t\t\t\t<span className='left'>商品详情:</span>\r\n\t\t\t\t<span dangerouslySetInnerHTML={{ __html:state.detail }}></span>\r\n\t\t\t</Item>\r\n\t\t  </List>\r\n\t\t</Card>\r\n\t)\r\n}","import React from 'react'\r\nimport {Switch, Route, Redirect} from 'react-router-dom'\r\nimport Home from './Home/index'\r\nimport AddUpdate from './AddUpdate/index'\r\nimport Detail from './Detail/index'\r\n\r\nexport default function Product({match}){\r\n\treturn(\r\n\t\t<Switch>\r\n\t\t\t<Route path={match.url} exact component={Home}/>\r\n\t\t\t<Route path={match.url+'/addupdate'} component={AddUpdate}/>\r\n\t\t\t<Route path={match.url+'/detail'} component={Detail}/>\r\n\t\t\t<Redirect to={match.url} />\r\n\t\t</Switch>\r\n\t)\r\n}\r\n\r\n","import React from 'react'\r\nimport { Button } from 'antd';\r\n\r\n\r\nexport default function Buttons(props){\r\n\tconst { setShowModel } = props\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Button \r\n\t\t\t\ttype=\"primary\" \r\n\t\t\t\tonClick={()=>{\r\n\t\t\t\t\tsetShowModel(true)\r\n\t\t\t\t}}\r\n\t\t\t>创建用户</Button>\r\n\t\t</div>\r\n\t)\r\n}","import React from 'react';\nimport { Table, Button, message} from 'antd';\r\nimport getDate from '../../utils/getDate'\nimport {reqUserDelete} from '../../api'\n\n\n\n const OTable = (props) => {\r\n\t const {users ,roles ,setSelectUser ,setShowModel,getUsersData} = props\r\n\t const columns = [\r\n\t   {\r\n\t     title: '用户名',\r\n\t     dataIndex: 'username',\r\n\t   },\r\n\t   {\r\n\t     title: '邮箱',\r\n\t     dataIndex: 'email',\r\n\t   },\r\n\t   {\r\n\t     title: '电话',\r\n\t     dataIndex: 'phone',\r\n\t   },\r\n\t   {\r\n\t     title: '注册时间',\r\n\t     dataIndex: 'create_time',\r\n\t \trender: getDate\r\n\t   },\r\n\t   {\r\n\t     title: '所属角色',\r\n\t \tdataIndex:'role_id',\r\n\t \trender:(role_id)=>{\r\n\t \t\tconst role = roles.find(item=>item._id === role_id)\r\n\t\t\tconst name = role && role.name\r\n\t \t\treturn <span>{name}</span>\r\n\t \t}\r\n\t   },\r\n\t   {\r\n\t     title: '操作',\r\n\t \trender:(role)=>(\r\n\t \t\t<div>\r\n\t \t\t\t<Button \r\n\t\t\t\t\ttype=\"link\" \r\n\t\t\t\t\tonClick={()=>{\r\n\t\t\t\t\t\tsetSelectUser(role)\r\n\t\t\t\t\t\tsetShowModel(true)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>修改</Button>\r\n\t \t\t\t<Button \r\n\t\t\t\t\ttype=\"link\" \r\n\t\t\t\t\tonClick={async ()=>{\r\n\t\t\t\t\t\tconst result = await reqUserDelete(role._id)\r\n\t\t\t\t\t\tif(result.status ===0){\r\n\t\t\t\t\t\t\tmessage.success('删除成功')\r\n\t\t\t\t\t\t\tgetUsersData()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t>删除</Button>\r\n\t \t\t</div>\r\n\t \t)\r\n\t   },\r\n\t ];\n  return (\n    <div>\n      <Table\r\n\t    bordered\n        columns={columns}\n        dataSource={users}\r\n\t\trowKey='_id'\r\n\t\tpagination={{\r\n\t\t  pageSizeOptions:['3','5','8'],\r\n\t\t  defaultPageSize:3,\r\n\t\t  showSizeChanger:true,\r\n\t\t  showQuickJumper:true,\r\n\t\t  hideOnSinglePage:true}}\r\n\t\t/>\n    </div>\n  );\n};\r\nexport default OTable","import React,{useEffect} from 'react'\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect } from 'react-redux'\r\nimport {logout} from '../../redux/actions'\r\nimport { Modal,Form,Input,message,Select } from 'antd';\r\nimport {reqUserAdd ,reqUserUpdate} from '../../api'\r\n\r\nconst { Option } = Select;\r\n\r\nfunction AddAndUpdateModel(props){\r\n\tconst {showModel,setShowModel,selectUser,roles,getUsersData} = props\r\n\t\r\n\tconst [formUser] = Form.useForm();\r\n\tuseEffect(() => {\r\n\t\tlet userData = selectUser._id?selectUser:{}\r\n\t\tif(!showModel){\r\n\t\t\tuserData = {}\r\n\t\t}\r\n\t    formUser.setFieldsValue(userData);\r\n\t}, [showModel,formUser,selectUser])\r\n\tfunction addHandleOk(e){\r\n\t\tformUser\r\n\t\t  .validateFields()\r\n\t\t  .then(async(values) => {\r\n\t\t      formUser.resetFields();\r\n\t\t\t  if(selectUser._id){\r\n\t\t\t\t  //修改用户\r\n\t\t\t\t  values._id = selectUser._id\r\n\t\t\t\t  const result = await reqUserUpdate(values)\r\n\t\t\t\t  if(result.status === 0){\r\n\t\t\t\t\t  message.success('修改用户成功')\r\n\t\t\t\t\t  if(selectUser._id === props.user._id){\r\n\t\t\t\t\t\t  props.logout()\r\n\t\t\t\t\t\t  return \r\n\t\t\t\t\t  }\r\n\t\t\t\t  }else{\r\n\t\t\t\t\t  message.error('修改用户失败')\r\n\t\t\t\t  }\r\n\t\t\t  }else{\r\n\t\t\t\t  //新增用户\r\n\t\t\t\t const result = await reqUserAdd(values)\r\n\t\t\t\t if(result.status === 0){\r\n\t\t\t\t\t  message.success('添加用户成功')\r\n\t\t\t\t } \r\n\t\t\t  }\r\n\t\t\t  getUsersData()\r\n\t\t\t  setShowModel(false)\r\n\t\t  })\r\n\t\t  .catch((info) => {\r\n\t\t    console.log('Validate Failed:', info);\r\n\t\t  });\r\n\t\t\r\n\t}\r\n\tfunction addCancel(){\r\n\t\tformUser.resetFields();\r\n\t\tsetShowModel(false)\r\n\t}\r\n\tfunction createOptions(){\r\n\t\treturn roles.map(item=><Option value={item._id} key={item._id}>{item.name}</Option>)\r\n\t}\r\n\treturn (\r\n\t\t<Modal\r\n\t\t  title={selectUser._id?\"修改用户\":\"添加用户\"}\r\n\t\t  visible={showModel}\r\n\t\t  onOk={addHandleOk}\r\n\t\t  onCancel={addCancel}\r\n\t\t  getContainer={false}\r\n\t\t  initialValues={{}}\r\n\t\t>\r\n\t\t\t<Form \r\n\t\t\t\tform={formUser} \r\n\t\t\t\tname=\"userForm\" \r\n\t\t\t\tlabelCol={{ span: 8}}\r\n\t\t\t\twrapperCol={{span: 12}}\r\n\t\t\t>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t  name=\"username\"\r\n\t\t\t\t  label=\"用户名\"\r\n\t\t\t\t  rules={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t  required: true,\r\n\t\t\t\t\t  message: '请输入用户名!'\r\n\t\t\t\t\t},\r\n\t\t\t\t  ]}\r\n\t\t\t\t>\r\n\t\t\t\t  <Input />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t\r\n\t\t\t\t{selectUser._id?null:(\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t  name=\"password\"\r\n\t\t\t\t\t  label=\"密码\"\r\n\t\t\t\t\t  rules={[\r\n\t\t\t\t\t\t{ required: true,message: '请输入密码!'},\r\n\t\t\t\t\t\t{ max: 12, message: '密码过长!' },\r\n\t\t\t\t\t\t{ min: 4, message: '密码过短!' },\r\n\t\t\t\t\t\t{ pattern: /^[\\w]*$/, message: '密码由字母、数字或下划线组成!' }\r\n\t\t\t\t\t  ]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t  <Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t)}\r\n\t\t\t\t\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t  name=\"phone\"\r\n\t\t\t\t  label=\"手机号\"\r\n\t\t\t\t  rules={[\r\n\t\t\t\t\t{required: true, message: '请输入手机号!'},\r\n\t\t\t\t\t{pattern:/^1[3|4|5|7|8][0-9]{9}$/,message:'手机号码格式不正确！'}\r\n\t\t\t\t  ]}\r\n\t\t\t\t>\r\n\t\t\t\t  <Input />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t  name=\"email\"\r\n\t\t\t\t  label=\"邮箱\"\r\n\t\t\t\t  rules={[\r\n\t\t\t\t\t{ required: true,message: '请输入邮箱!'},\r\n\t\t\t\t\t{ pattern:/^([a-zA-Z]|[0-9])(\\w)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$/,message:'邮箱格式不正确'}\r\n\t\t\t\t  ]}\r\n\t\t\t\t>\r\n\t\t\t\t  <Input />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t  name=\"role_id\"\r\n\t\t\t\t  label=\"角色\"\r\n\t\t\t\t  rules={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t  required: true,\r\n\t\t\t\t\t  message: '请选择角色名称!'\r\n\t\t\t\t\t},\r\n\t\t\t\t  ]}\r\n\t\t\t\t>\r\n\t\t\t\t  <Select >\r\n\t\t\t\t\t{createOptions()}\r\n\t\t\t\t  </Select>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n\t)\r\n}\r\n\r\n\r\nexport default connect(\r\n\tstate=>({user:state.user}),\r\n\t{logout}\r\n)(withRouter(AddAndUpdateModel))\r\n","import React,{useState,useEffect} from 'react'\r\nimport { Card } from 'antd';\r\nimport OButton from './oButton'\r\nimport OTable from './oTable'\r\nimport AddAndUpdate from './addAndUpdateModel'\r\nimport { reqUserList } from '../../api'\r\n\r\nexport default function User(props){\r\n\tconst [showModel,setShowModel] = useState(false)\r\n\tconst [users,setUsers] = useState([])\r\n\tconst [roles,setRoles] = useState([])\r\n\tconst [selectUser,setSelectUser] = useState({})\r\n\tconst getUsersData = async()=>{\r\n\t\tconst result = await reqUserList()\r\n\t\tif(result.status===0){\r\n\t\t\tsetUsers(result.data.users)\r\n\t\t\tsetRoles(result.data.roles)\r\n\t\t}\r\n\t}\r\n\tuseEffect(()=>{\r\n\t\tgetUsersData()\r\n\t},[])\r\n\tuseEffect(()=>{\r\n\t\tif(!showModel){\r\n\t\t\tsetSelectUser({})\r\n\t\t}\r\n\t},[showModel])\r\n\treturn(\r\n\t\t<Card title={<OButton setShowModel={setShowModel}/>}>\r\n\t\t\t<OTable \r\n\t\t\t\tusers={users} \r\n\t\t\t\troles={roles} \r\n\t\t\t\tsetShowModel={setShowModel} \r\n\t\t\t\tsetSelectUser={setSelectUser}\r\n\t\t\t\tgetUsersData={getUsersData}\r\n\t\t\t/>\r\n\t\t\t<AddAndUpdate \r\n\t\t\t\tshowModel={showModel} \r\n\t\t\t\tsetShowModel={setShowModel}\r\n\t\t\t\tselectUser={selectUser}\r\n\t\t\t\troles={roles}\r\n\t\t\t\tgetUsersData={getUsersData}\r\n\t\t\t/>\r\n\t\t</Card>\r\n\t)\r\n}","import React from 'react'\r\nimport { Button } from 'antd';\r\n\r\n\r\nexport default function Buttons(props){\r\n\tconst {targetRole,setShowAdd,setShowSet} = props\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Button \r\n\t\t\t\ttype=\"primary\" \r\n\t\t\t\tstyle={{marginRight:10}}\r\n\t\t\t\tonClick={()=>{\r\n\t\t\t\t\tsetShowAdd(true)\r\n\t\t\t\t}}\r\n\t\t\t>创建角色</Button>\r\n\t\t\t<Button \r\n\t\t\t\ttype=\"primary\" \r\n\t\t\t\tdisabled={!targetRole._id} \r\n\t\t\t\tonClick={()=>{\r\n\t\t\t\t\tsetShowSet(true)\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t设置角色权限\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t)\r\n}","import React from 'react';\nimport { Table } from 'antd';\r\nimport getDate from '../../utils/getDate'\nconst columns = [\n  {\n    title: '角色名称',\n    dataIndex: 'name',\n  },\n  {\n    title: '创建时间',\n    dataIndex: 'create_time',\r\n\trender: getDate\n  },\r\n  {\r\n    title: '授权时间',\r\n    dataIndex: 'auth_time',\r\n\trender: getDate\r\n  },\n  {\n    title: '授权人',\n    dataIndex: 'auth_name',\n  },\n];\n\n\n\n const OTable = (props) => {\r\n\t const data = props.data\r\n\t const setRole = props.setRole\r\n\t const role = props.role\r\n\t function onRow(record, index){\r\n\t\treturn {\r\n\t\t\t onClick: event => {\r\n\t\t\t\tsetRole(record)\r\n\t\t\t }\r\n\t\t};\r\n\t }\n  return (\n    <div>\n      <Table\r\n\t    bordered\n        rowSelection={{\n          type: 'radio',\n          selectedRowKeys: [role._id],\r\n\t\t  onSelect:(record)=>{\r\n\t\t\t  setRole(record)\r\n\t\t  }\n        }}\r\n\t\tonRow={onRow}\n        columns={columns}\n        dataSource={data}\r\n\t\trowKey='_id'\r\n\t\tpagination={{\r\n\t\t  pageSizeOptions:['3','5','8'],\r\n\t\t  defaultPageSize:3,\r\n\t\t  showSizeChanger:true,\r\n\t\t  showQuickJumper:true,\r\n\t\t  hideOnSinglePage:true}}\r\n\t\t/>\n    </div>\n  );\n};\r\nexport default OTable","import React from 'react'\r\nimport { Modal,Form,Input,message } from 'antd';\r\nimport {reqRoleAdd} from '../../api'\r\n\r\nexport default function AddModel(props){\r\n\tconst {data,showAdd,setShowAdd,setData} = props\r\n\tconst [formAdd] = Form.useForm();\r\n\tfunction addHandleOk(e){\r\n\t\tformAdd\r\n\t\t  .validateFields()\r\n\t\t  .then((values) => {\r\n\t\t      formAdd.resetFields();\r\n\t\t\t  addRole(values.roleName)\r\n\t\t  })\r\n\t\t  .catch((info) => {\r\n\t\t    console.log('Validate Failed:', info);\r\n\t\t  });\r\n\t\tsetShowAdd(false)\r\n\t}\r\n\tfunction addCancel(){\r\n\t\tsetShowAdd(false)\r\n\t}\r\n\tasync function addRole(roleName){\r\n\t\tconst result = await reqRoleAdd(roleName)\r\n\t\tif(result.status === 0){\r\n\t\t\tmessage.success('添加成功')\r\n\t\t\tconst newData = result.data\r\n\t\t\tsetData([...data,newData])\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<Modal\r\n\t\t  title=\"创建角色\"\r\n\t\t  visible={showAdd}\r\n\t\t  onOk={addHandleOk}\r\n\t\t  onCancel={addCancel}\r\n\t\t>\r\n\t\t\t<Form form={formAdd} name=\"userForm\" labelCol={{ span: 4}}\r\n\t\t\t\twrapperCol={{span: 12}}>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t  name=\"roleName\"\r\n\t\t\t\t  label=\"角色名称\"\r\n\t\t\t\t  rules={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t  required: true,\r\n\t\t\t\t\t  message: '请输入角色名称!'\r\n\t\t\t\t\t},\r\n\t\t\t\t  ]}\r\n\t\t\t\t>\r\n\t\t\t\t  <Input />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n\t)\r\n}","import React,{useState,useEffect} from 'react'\r\nimport { Modal,Form,Input,message,Tree } from 'antd';\r\nimport {connect} from 'react-redux'\r\nimport {reqRoleUpdate} from '../../api'\r\nimport menuList from '../../config/menuConfig'\r\n\r\nfunction UpdateModel(props){\r\n\tconst {showSet, setShowSet,targetRole } = props\r\n\tconst userName = props.user.username||''\r\n\tconst [expandedKeys, setExpandedKeys] = useState(targetRole.menus);\r\n\tconst [checkedKeys, setCheckedKeys] = useState(targetRole.menus);\r\n\tconst [selectedKeys, setSelectedKeys] = useState([]);\r\n\tconst [autoExpandParent, setAutoExpandParent] = useState(true);\r\n\tconst setHandleOk = async ()=>{\r\n\t\tconst obj = targetRole\r\n\t\tobj.menus=checkedKeys\r\n\t\tobj.auth_time=new Date().getTime()\r\n\t\tobj.auth_name=userName\r\n\t\tconst result = await reqRoleUpdate(obj)\r\n\t\tif(result.status===0){\r\n\t\t\tmessage.success('权限设置成功')\r\n\t\t}\r\n\t\tsetShowSet(false)\r\n\t}\r\n\tconst setCancel = (e)=>{\r\n\t    setShowSet(false)\r\n\t};\r\n\t\r\n\t//展开/收起节点时触发\r\n\tconst onExpand = (expandedKeys) => {\r\n\t\tsetExpandedKeys(expandedKeys);\r\n\t\tsetAutoExpandParent(false);\r\n\t};\r\n\t//点击复选框触发\r\n\tconst onCheck = (checkedKeys) => {\r\n\t\tsetCheckedKeys(checkedKeys);\r\n\t};\r\n\t//点击树节点触发\r\n\tconst onSelect = (selectedKeys, info) => {\r\n\t\tsetSelectedKeys(selectedKeys);\r\n\t};\r\n\t//id变化时更新menus  \r\n\tuseEffect(()=>{\r\n\t\tsetExpandedKeys(targetRole.menus)\r\n\t\tsetCheckedKeys(targetRole.menus)\r\n\t},[targetRole._id])\r\n\t\r\n\treturn (\r\n\t\t<Modal\r\n\t\t  title=\"设置权限\"\r\n\t\t  visible={showSet}\r\n\t\t  onOk={setHandleOk}\r\n\t\t  onCancel={setCancel}\r\n\t\t>\r\n\t\t\t<Form.Item \r\n\t\t\t\tlabelCol={{ span: 6}} \r\n\t\t\t\twrapperCol={{span: 12}}\r\n\t\t\t\tlabel=\"角色名称\"\r\n\t\t\t>\r\n\t\t\t\t<Input value={targetRole.name} disabled/>\r\n\t\t\t</Form.Item>\r\n\t\t\t\r\n\t\t\t<Tree\r\n\t\t\t  checkable\r\n\t\t\t  onExpand={onExpand}\r\n\t\t\t  expandedKeys={expandedKeys}\r\n\t\t\t  autoExpandParent={autoExpandParent}\r\n\t\t\t  onCheck={onCheck}\r\n\t\t\t  checkedKeys={checkedKeys}\r\n\t\t\t  onSelect={onSelect}\r\n\t\t\t  selectedKeys={selectedKeys}\r\n\t\t\t  treeData={menuList}\r\n\t\t\t/>\r\n\t\t</Modal>\r\n\t)\r\n}\r\n\r\nexport default connect(\r\n\tstate=>({\r\n\t\tuser:state.user\r\n\t})\r\n)(UpdateModel)","import React,{useState,useEffect} from 'react'\r\nimport { Card } from 'antd';\r\nimport Buttons from './Buttons'\r\nimport OTable from './oTable'\r\nimport AddModel from './addModel'\r\nimport UpdateModel from './updateModel'\r\nimport {reqRoleList} from '../../api'\r\n\r\nexport default function Role(props){\r\n\tconst [data,setData] = useState([])\r\n\tconst [targetRole,setTargetRole] = useState({})\r\n\tconst [showAdd,setShowAdd] = useState(false)\r\n\tconst [showSet,setShowSet] = useState(false)\r\n\tuseEffect(()=>{\r\n\t\t(async()=>{\r\n\t\t\tconst result = await reqRoleList()\r\n\t\t\tif(result.status === 0){\r\n\t\t\t\tsetData(result.data)\r\n\t\t\t}\r\n\t\t})()\r\n\t},[])\r\n\t\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Card \r\n\t\t\t\ttitle={<Buttons \r\n\t\t\t\t\ttargetRole={targetRole}\r\n\t\t\t\t\tsetShowAdd={setShowAdd}\r\n\t\t\t\t\tsetShowSet={setShowSet}\r\n\t\t\t\t/>}\r\n\t\t\t>\r\n\t\t\t  <OTable \r\n\t\t\t\tdata={data} \r\n\t\t\t\trole={targetRole}\r\n\t\t\t\tsetRole={setTargetRole}\r\n\t\t\t  />\r\n\t\t\t</Card>\r\n\t\t\t<AddModel \r\n\t\t\t\tdata={data}\r\n\t\t\t\tshowAdd={showAdd}\r\n\t\t\t\tsetData={setData}\r\n\t\t\t\tsetShowAdd={setShowAdd}\r\n\t\t\t/>\r\n\t\t\t<UpdateModel \r\n\t\t\t\tshowSet={showSet}\r\n\t\t\t\tsetShowSet={setShowSet}\r\n\t\t\t\ttargetRole={targetRole}\r\n\t\t\t/>\r\n\t\t\t\r\n\t\t</div>\r\n\t)\r\n}","import React from 'react'\nimport ReactEcharts from 'echarts-for-react';\r\nimport { Card,Button } from 'antd';\r\n\r\nexport default class ChartBar extends React.Component{\r\n\tstate = {\r\n\t\tsales:[9, 43, 160, 257, 320, 250, 160],\r\n\t\tstock:[10, 52, 200, 334, 390, 330, 220]\r\n\t}\r\n\tupdata=()=>{\r\n\t\tthis.setState({\r\n\t\t\tsales:this.state.sales.map(item=>item+1),\r\n\t\t\tstock:this.state.stock.map(item=>item-1)\r\n\t\t})\r\n\t}\r\n\tgetOption=(sales,stock)=>{\r\n\t\treturn {\n\t\t\tcolor: ['#3398DB','#008c8c'],\r\n\t\t\tlegend: {\r\n\t\t\t\tdata: ['销量', '库存']\r\n\t\t\t},\n\t\t\ttooltip: {\n\t\t\t\ttrigger: 'axis',\n\t\t\t\taxisPointer: {            // 坐标轴指示器，坐标轴触发有效\n\t\t\t\t\ttype: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\n\t\t\t\t}\n\t\t\t},\n\t\t\tgrid: {\n\t\t\t\tleft: '3%',\n\t\t\t\tright: '4%',\n\t\t\t\tbottom: '3%',\n\t\t\t\tcontainLabel: true\n\t\t\t},\n\t\t\txAxis: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'category',\n\t\t\t\t\tdata: ['电脑', '手机', '图书', '男装', '女装', '童装', '食品'],\n\t\t\t\t\taxisTick: {\n\t\t\t\t\t\talignWithLabel: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\tyAxis: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'value'\n\t\t\t\t}\n\t\t\t],\n\t\t\tseries: [\n\t\t\t\t{\n\t\t\t\t\tname: '销量',\n\t\t\t\t\ttype: 'bar',\n\t\t\t\t\tbarWidth: '30%',\n\t\t\t\t\tdata: sales\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '库存',\r\n\t\t\t\t\ttype: 'bar',\r\n\t\t\t\t\tbarWidth: '30%',\r\n\t\t\t\t\tdata: stock\r\n\t\t\t\t}\n\t\t\t]\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<Card title={<Button type=\"primary\" onClick={this.updata}>更新</Button>}>\r\n\t\t\t\t<Card title=\"柱状图1\">\r\n\t\t\t\t\t<ReactEcharts\r\n\t\t\t\t\t  option={this.getOption(this.state.sales,this.state.stock)}\r\n\t\t\t\t\t  notMerge={true}\r\n\t\t\t\t\t  lazyUpdate={true}\r\n\t\t\t\t\t  theme={\"theme_name\"} />\r\n\t\t\t\t</Card>\r\n\t\t\t</Card>\r\n\t\t)\r\n\t}\r\n}","import React from 'react'\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport { Card,Button } from 'antd';\r\n\r\n\r\nexport default class ChartLine extends React.Component{\r\n\tstate = {\r\n\t\tsales:[9, 43, 160, 257, 320, 250, 160],\r\n\t\tstock:[10, 52, 200, 334, 390, 330, 220]\r\n\t}\r\n\tupdata=()=>{\r\n\t\tthis.setState({\r\n\t\t\tsales:this.state.sales.map(item=>item+1),\r\n\t\t\tstock:this.state.stock.map(item=>item-1)\r\n\t\t})\r\n\t}\r\n\tgetOption=(sales,stock)=>{\r\n\t\treturn {\r\n\t\t\tcolor: ['#3398DB','#008c8c'],\r\n\t\t\tlegend: {\r\n\t\t\t\tdata: ['销量', '库存']\r\n\t\t\t},\r\n\t\t\ttooltip: {\r\n\t\t\t\ttrigger: 'axis',\r\n\t\t\t\taxisPointer: {            // 坐标轴指示器，坐标轴触发有效\r\n\t\t\t\t\ttype: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgrid: {\r\n\t\t\t\tleft: '3%',\r\n\t\t\t\tright: '4%',\r\n\t\t\t\tbottom: '3%',\r\n\t\t\t\tcontainLabel: true\r\n\t\t\t},\r\n\t\t\txAxis: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'category',\r\n\t\t\t\t\tdata: ['电脑', '手机', '图书', '男装', '女装', '童装', '食品'],\r\n\t\t\t\t\taxisTick: {\r\n\t\t\t\t\t\talignWithLabel: true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tyAxis: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'value'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tseries: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '销量',\r\n\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\tdata: sales\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '库存',\r\n\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\tdata: stock\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<Card title={<Button type=\"primary\" onClick={this.updata}>更新</Button>}>\r\n\t\t\t\t<Card title=\"柱状图1\">\r\n\t\t\t\t\t<ReactEcharts\r\n\t\t\t\t\t  option={this.getOption(this.state.sales,this.state.stock)}\r\n\t\t\t\t\t  notMerge={true}\r\n\t\t\t\t\t  lazyUpdate={true}\r\n\t\t\t\t\t  theme={\"theme_name\"} />\r\n\t\t\t\t</Card>\r\n\t\t\t</Card>\r\n\t\t)\r\n\t}\r\n}","import React from 'react'\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport { Card } from 'antd';\r\n\r\nexport default class ChartPie extends React.Component{\r\n\tgetOption=()=>{\r\n\t\treturn {\n\t\t\tbackgroundColor: '#2c343c',\n\n\t\t\ttitle: {\n\t\t\t\ttext: '访问来源',\n\t\t\t\tleft: 'center',\n\t\t\t\ttop: 20,\n\t\t\t\ttextStyle: {\n\t\t\t\t\tcolor: '#ccc'\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttooltip: {\n\t\t\t\ttrigger: 'item',\n\t\t\t\tformatter: '{a} <br/>{b} : {c} ({d}%)'\n\t\t\t},\n\n\t\t\tvisualMap: {\n\t\t\t\tshow: false,\n\t\t\t\tmin: 80,\n\t\t\t\tmax: 600,\n\t\t\t\tinRange: {\n\t\t\t\t\tcolorLightness: [0, 1]\n\t\t\t\t}\n\t\t\t},\n\t\t\tseries: [\n\t\t\t\t{\n\t\t\t\t\tname: '访问来源',\n\t\t\t\t\ttype: 'pie',\n\t\t\t\t\tradius: '55%',\n\t\t\t\t\tcenter: ['50%', '50%'],\n\t\t\t\t\tdata: [\n\t\t\t\t\t\t{value: 335, name: '直接访问'},\n\t\t\t\t\t\t{value: 310, name: '邮件营销'},\n\t\t\t\t\t\t{value: 274, name: '联盟广告'},\n\t\t\t\t\t\t{value: 235, name: '视频广告'},\n\t\t\t\t\t\t{value: 400, name: '搜索引擎'}\n\t\t\t\t\t].sort(function (a, b) { return a.value - b.value; }),\n\t\t\t\t\troseType: 'radius',\n\t\t\t\t\tlabel: {\n\t\t\t\t\t\tcolor: 'rgba(255, 255, 255, 0.3)'\n\t\t\t\t\t},\n\t\t\t\t\tlabelLine: {\n\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\tcolor: 'rgba(255, 255, 255, 0.3)'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsmooth: 0.2,\n\t\t\t\t\t\tlength: 10,\n\t\t\t\t\t\tlength2: 20\n\t\t\t\t\t},\n\t\t\t\t\titemStyle: {\n\t\t\t\t\t\tcolor: '#c23531',\n\t\t\t\t\t\tshadowBlur: 200,\n\t\t\t\t\t\tshadowColor: 'rgba(0, 0, 0, 0.5)'\n\t\t\t\t\t},\n\n\t\t\t\t\tanimationType: 'scale',\n\t\t\t\t\tanimationEasing: 'elasticOut',\n\t\t\t\t\tanimationDelay: function (idx) {\n\t\t\t\t\t\treturn Math.random() * 200;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t};\r\n\t}\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<Card title=\"饼图1\">\r\n\t\t\t\t<ReactEcharts\r\n\t\t\t\t  option={this.getOption()}\r\n\t\t\t\t  notMerge={true}\r\n\t\t\t\t  lazyUpdate={true}\r\n\t\t\t\t  theme={\"theme_name\"} />\r\n\t\t\t</Card>\r\n\t\t)\r\n\t}\r\n}","import React from 'react'\r\nimport {Redirect,Route,Switch} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\n\r\nimport { Layout } from 'antd';\r\nimport MySider from '../../components/sider'\r\nimport Header from '../../components/header'\r\nimport MyFooter from '../../components/footer'\r\n\r\nimport Home from '../Home'\r\nimport Category from '../Category'\r\nimport Product from '../Product'\r\nimport User from '../User'\r\nimport Role from '../Role'\r\nimport ChartBar from '../Chart/bar'\r\nimport ChartLine from '../Chart/line'\r\nimport ChartPie from '../Chart/pie'\r\n\r\nconst {Footer, Sider, Content } = Layout;\r\n\r\n\r\nclass Admin extends React.Component{\r\n\trender(){\r\n\t\tconst user = this.props.user\r\n\t\tif(!user.username || !user._id){\r\n\t\t\treturn (<Redirect to={'/login'}/>)\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Layout style={{height:'100vh'}}>\r\n\t\t\t  <Sider style={{backgroundImage: 'linear-gradient(#21231e 10%, #001529)'}}>\r\n\t\t\t\t<MySider></MySider>\r\n\t\t\t  </Sider>\r\n\t\t\t  <Layout>\r\n\t\t\t\t<Header></Header>\r\n\t\t\t\t<Content style={{margin:'20px',background:'#fff',overflow:'auto'}}>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route path='/home' component={Home}/>\r\n\t\t\t\t\t\t<Route path='/category' component={Category}/>\r\n\t\t\t\t\t\t<Route path='/product' component={Product}/>\r\n\t\t\t\t\t\t<Route path='/user' component={User}/>\r\n\t\t\t\t\t\t<Route path='/role' component={Role}/>\r\n\t\t\t\t\t\t<Route path='/chart/bar' component={ChartBar}/>\r\n\t\t\t\t\t\t<Route path='/chart/line' component={ChartLine}/>\r\n\t\t\t\t\t\t<Route path='/chart/pie' component={ChartPie}/>\r\n\t\t\t\t\t\t<Redirect to='/home' />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Content>\r\n\t\t\t\t<Footer style={{background:'#e0e0e0'}}><MyFooter></MyFooter></Footer>\r\n\t\t\t  </Layout>\r\n\t\t\t</Layout>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tstate=>({user:state.user}),\r\n\t{}\r\n)(Admin)","import React from 'react';\r\nimport {BrowserRouter,Route,Switch} from 'react-router-dom'\r\nimport Login from './pages/login'\r\nimport Admin from './pages/admin'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\r\n\t\t<Switch>\r\n\t\t\t<Route path='/login' component={Login}></Route>\r\n\t\t\t<Route path='/' component={Admin}></Route>\r\n\t\t</Switch>\r\n\t  </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux'\r\n\r\nimport store from './redux/store'\nimport App from './App';\r\nimport 'antd/dist/antd.less';\r\nimport {localGet} from './utils/localStorage'\nimport memory from './utils/memory'\r\n//一开始就把localStorage的值赋给memory\r\nmemory.user = localGet()\r\n\nReactDOM.render((\r\n\t<Provider store={store}>\r\n\t\t<App/>\r\n\t</Provider>\r\n),document.getElementById('root'));\n\n","module.exports = __webpack_public_path__ + \"static/media/logo.d1fb4f12.jpg\";","module.exports = __webpack_public_path__ + \"static/media/logo.d1fb4f12.jpg\";"],"sourceRoot":""}